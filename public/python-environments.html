<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Ch. 2 Python environments | Matplotlib with Rmarkdown</title>
<meta name="author" content="Alfonso R. Reyes">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.5.3/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.2.9000/tabs.js"></script><script src="libs/bs3compat-0.2.2.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/toc.css">
<link rel="stylesheet" href="fontawesome/css/all.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Matplotlib with Rmarkdown</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="active" href="python-environments.html"><span class="header-section-number">2</span> Python environments</a></li>
<li><a class="" href="sharing-data-objects.html"><span class="header-section-number">3</span> Sharing data objects</a></li>
<li><a class="" href="math.html"><span class="header-section-number">4</span> Math</a></li>
<li><a class="" href="scientific.html"><span class="header-section-number">5</span> Scientific</a></li>
<li><a class="" href="voxels.html"><span class="header-section-number">6</span> Voxels</a></li>
<li><a class="" href="seaborn.html"><span class="header-section-number">7</span> Seaborn</a></li>
<li><a class="" href="advanced.html"><span class="header-section-number">8</span> Advanced</a></li>
<li><a class="" href="beyond-matplotlib.html"><span class="header-section-number">9</span> Beyond matplotlib</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com//f0nzie/matplotlib-with-rmarkdown">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="python-environments" class="section level1" number="2">
<h1>
<span class="header-section-number">Ch. 2</span> Python environments<a class="anchor" aria-label="anchor" href="#python-environments"><i class="fas fa-link"></i></a>
</h1>
<p><em>Last update: Thu Nov 5 19:22:01 2020 -0600 (5124cef)</em></p>
<div id="why-virtual-environments" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Why virtual environments?<a class="anchor" aria-label="anchor" href="#why-virtual-environments"><i class="fas fa-link"></i></a>
</h2>
<p>To get repeatable and reproducible results when running Python code in Rmarkdownthere is nothing better than creating a Python environment.</p>
<p>There are several ways of running Python code. In this minimal book, we will see two of them:</p>
<ul>
<li>
<code>conda</code> environments, and</li>
<li>GNU Python <code>virtualenv</code>
</li>
</ul>
<p>Both work similarly in the sense of providing an isolated, fresh Python environment with selected packages, without much interference of the existing Python in the operating system. Virtual environments, docker containers, and virtual machines are few of the several ways of virtualizing Python environments. This all in pursue of reproducibility, or a workspace that could replicate the same results of previous analysis without the issues provoked by missing dependencies, libraries, or the operating own system environment variables.</p>
</div>
<div id="python-virtual-environment-and-r" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Python virtual environment and R<a class="anchor" aria-label="anchor" href="#python-virtual-environment-and-r"><i class="fas fa-link"></i></a>
</h2>
<p>Although, it is not absolutely necessary to create a virtual environment to run Rmarkdown Python notebooks, it is highly recommended because you will be able to run a selected analysis, over and over, without paying too much attention to updates or upgrades in the hosting operating system or packages updates. This means that you could freeze in time a virtual environment, without disturbing it with software updates.</p>
<p>This virtual environment should be able to be re-created from a text file with a minimum set of instructions, or a list of packages, or recipe, that bring a fresh Python environment, few months from now. Both, methods of creating Python virtual environments, <code>conda</code> and <code>virtualenv</code> use a text file with a recipe to do just that.</p>
<p>In <code>conda</code> there is the file <code>environment.yml</code>. In <code>virtualenv</code>, that file is named <code>requirements.txt</code>. But you could use any name you want. These names are just standard, and if you find them them in a repository, it mean less pain in reproducing the experiment.</p>
</div>
<div id="conda-environments" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> conda environments<a class="anchor" aria-label="anchor" href="#conda-environments"><i class="fas fa-link"></i></a>
</h2>
<p>They require the installation of the Anaconda3 platform, which is pretty straight forward for all operating systems.</p>
<p>If you want want to create a conda virtual environment, then, you will have many ways of doing it:</p>
<div id="environment-with-python-version-specified" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> environment with Python version specified<a class="anchor" aria-label="anchor" href="#environment-with-python-version-specified"><i class="fas fa-link"></i></a>
</h3>
<p>In this example, <code>conda</code> will build an environment using the Python version <code>3.7</code>. If the version is not specified, <code>conda</code> will install the default.</p>
<div class="decocode">
<div style="background-color:#000000">
<p><span style="font-size:90%;color:#ffffff"><i class="fas fa-terminal"></i><b>Shell</b></span></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="python-environments.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create --name python_env python=3.7</span></code></pre></div>
</div>
<br>
</div>
</div>
<div id="specify-python-version-and-list-package-names" class="section level3" number="2.3.2">
<h3>
<span class="header-section-number">2.3.2</span> specify Python version and list package names<a class="anchor" aria-label="anchor" href="#specify-python-version-and-list-package-names"><i class="fas fa-link"></i></a>
</h3>
<p>Here, we leave <code>conda</code> to find a suitable combination of package versions to build this environment.</p>
<div class="decocode">
<div style="background-color:#000000">
<p><span style="font-size:90%;color:#ffffff"><i class="fas fa-terminal"></i><b>Shell</b></span></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="python-environments.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create --name python_book python=3.7 pandas numpy scipy scikit-learn nltk matplotlib seaborn plotnine ipython lxml -y</span></code></pre></div>
</div>
<br>
</div>
<p>The last option <code>-y</code> means that it will install without asking <em>yes</em> or <em>no</em>.</p>
</div>
<div id="specify-python-version-and-version-for-the-packages" class="section level3" number="2.3.3">
<h3>
<span class="header-section-number">2.3.3</span> specify Python version and version for the packages<a class="anchor" aria-label="anchor" href="#specify-python-version-and-version-for-the-packages"><i class="fas fa-link"></i></a>
</h3>
<p>This recipe is more strict. You are looking for a precise package versions, which you know worked, and run without conflicts or bugs.</p>
<div class="decocode">
<div style="background-color:#000000">
<p><span style="font-size:90%;color:#ffffff"><i class="fas fa-terminal"></i><b>Shell</b></span></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="python-environments.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">conda</span> create -n plot_env python=3.7 numpy=1.19 matplotlib=3.3 pandas=1.1 seaborn=0.11</span></code></pre></div>
</div>
<br>
</div>
</div>
</div>
<div id="running-python-from-r" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Running Python from R<a class="anchor" aria-label="anchor" href="#running-python-from-r"><i class="fas fa-link"></i></a>
</h2>
<p>Load the <code>reticulate</code> library.</p>
<div class="decocode">
<div style="background-color:#4C78DB">
<p><span style="font-size:90%;color:#ffffff"><i class="fab fa-r-project"></i><b>R</b></span></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/reticulate">reticulate</a></span><span class="op">)</span></code></pre></div>
</div>
<br>
</div>
<p>Load the Python environment</p>
<div class="decocode">
<div style="background-color:#4C78DB">
<p><span style="font-size:90%;color:#ffffff"><i class="fab fa-r-project"></i><b>R</b></span></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/reticulate/man/use_python.html">use_condaenv</a></span><span class="op">(</span><span class="st">"r-python"</span><span class="op">)</span></code></pre></div>
</div>
<br>
</div>
<p>Environments available and current settings</p>
<div class="decocode">
<div style="background-color:#4C78DB">
<p><span style="font-size:90%;color:#ffffff"><i class="fab fa-r-project"></i><b>R</b></span></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/reticulate/man/py_config.html">py_config</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>#:&gt; python:         /home/msfz751/miniconda3/envs/r-python/bin/python
#:&gt; libpython:      /home/msfz751/miniconda3/envs/r-python/lib/libpython3.7m.so
#:&gt; pythonhome:     /home/msfz751/miniconda3/envs/r-python:/home/msfz751/miniconda3/envs/r-python
#:&gt; version:        3.7.8 | packaged by conda-forge | (default, Jul 31 2020, 02:25:08)  [GCC 7.5.0]
#:&gt; numpy:          /home/msfz751/miniconda3/envs/r-python/lib/python3.7/site-packages/numpy
#:&gt; numpy_version:  1.19.4
#:&gt; 
#:&gt; python versions found: 
#:&gt;  /home/msfz751/miniconda3/envs/r-python/bin/python
#:&gt;  /home/msfz751/miniconda3/bin/python3
#:&gt;  /usr/bin/python3
#:&gt;  /usr/bin/python
#:&gt;  /home/msfz751/miniconda3/envs/man_ccia/bin/python
#:&gt;  /home/msfz751/miniconda3/envs/pybook/bin/python
#:&gt;  /home/msfz751/miniconda3/envs/r-ptech/bin/python
#:&gt;  /home/msfz751/miniconda3/envs/r-tensorflow/bin/python
#:&gt;  /home/msfz751/miniconda3/envs/r-torch/bin/python
#:&gt;  /home/msfz751/miniconda3/bin/python</code></pre>
</div>
<br>
</div>
<p>Ask if Python is available to R:</p>
<div class="decocode">
<div style="background-color:#4C78DB">
<p><span style="font-size:90%;color:#ffffff"><i class="fab fa-r-project"></i><b>R</b></span></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reticulate/man/py_available.html">py_available</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>#:&gt; [1] TRUE</code></pre>
</div>
<br>
</div>
</div>
<div id="a-plot-demo" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> A plot demo<a class="anchor" aria-label="anchor" href="#a-plot-demo"><i class="fas fa-link"></i></a>
</h2>
<p>Once the environment is loaded, then our Python code chunks will just run:</p>
<div class="decocode">
<div style="background-color:#417FB1">
<p><span style="font-size:90%;color:#FFD94C"><i class="fab fa-python"></i><b>Python</b></span></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="python-environments.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://github.com/bendichter/brokenaxes</span></span>
<span id="cb24-2"><a href="python-environments.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib</span>
<span id="cb24-3"><a href="python-environments.html#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb24-4"><a href="python-environments.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb24-5"><a href="python-environments.html#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb24-6"><a href="python-environments.html#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> brokenaxes <span class="im">import</span> brokenaxes</span>
<span id="cb24-7"><a href="python-environments.html#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb24-8"><a href="python-environments.html#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="python-environments.html#cb24-9" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">5</span>,<span class="dv">5</span>))</span>
<span id="cb24-10"><a href="python-environments.html#cb24-10" aria-hidden="true" tabindex="-1"></a>bax <span class="op">=</span> brokenaxes(xlims<span class="op">=</span>((<span class="dv">1</span>, <span class="dv">500</span>), (<span class="dv">600</span>, <span class="dv">10000</span>)),</span>
<span id="cb24-11"><a href="python-environments.html#cb24-11" aria-hidden="true" tabindex="-1"></a>         ylims<span class="op">=</span>((<span class="dv">1</span>, <span class="dv">500</span>), (<span class="dv">600</span>, <span class="dv">10000</span>)),</span>
<span id="cb24-12"><a href="python-environments.html#cb24-12" aria-hidden="true" tabindex="-1"></a>         hspace<span class="op">=</span><span class="fl">.15</span>, xscale<span class="op">=</span><span class="st">'log'</span>, yscale<span class="op">=</span><span class="st">'log'</span>)</span>
<span id="cb24-13"><a href="python-environments.html#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="python-environments.html#cb24-14" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.logspace(<span class="fl">0.0</span>, <span class="dv">4</span>, <span class="dv">100</span>)</span>
<span id="cb24-15"><a href="python-environments.html#cb24-15" aria-hidden="true" tabindex="-1"></a>bax.loglog(x, x, label<span class="op">=</span><span class="st">'$y=x=10^</span><span class="sc">{0}</span><span class="st">$ to $10^</span><span class="sc">{4}</span><span class="st">$'</span>)</span>
<span id="cb24-16"><a href="python-environments.html#cb24-16" aria-hidden="true" tabindex="-1"></a>bax.legend(loc<span class="op">=</span><span class="st">'best'</span>)</span>
<span id="cb24-17"><a href="python-environments.html#cb24-17" aria-hidden="true" tabindex="-1"></a>bax.grid(axis<span class="op">=</span><span class="st">'both'</span>, which<span class="op">=</span><span class="st">'major'</span>, ls<span class="op">=</span><span class="st">'-'</span>)</span>
<span id="cb24-18"><a href="python-environments.html#cb24-18" aria-hidden="true" tabindex="-1"></a>bax.grid(axis<span class="op">=</span><span class="st">'both'</span>, which<span class="op">=</span><span class="st">'minor'</span>, ls<span class="op">=</span><span class="st">'--'</span>, alpha<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb24-19"><a href="python-environments.html#cb24-19" aria-hidden="true" tabindex="-1"></a>bax.set_xlabel(<span class="st">'x'</span>)</span>
<span id="cb24-20"><a href="python-environments.html#cb24-20" aria-hidden="true" tabindex="-1"></a>bax.set_ylabel(<span class="st">'y'</span>)</span>
<span id="cb24-21"><a href="python-environments.html#cb24-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<img src="02-python-env_files/figure-html/unnamed-chunk-8-1.png" width="90%" style="display: block; margin: auto;">
</div>
<br>
</div>
<p>The code, you would have to type in the <code>Rmarkdown</code> code block, would look like this:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb25-1"><a href="python-environments.html#cb25-1" aria-hidden="true" tabindex="-1"></a> <span class="in">```{python}</span></span>
<span id="cb25-2"><a href="python-environments.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="in">import matplotlib</span></span>
<span id="cb25-3"><a href="python-environments.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="in">import matplotlib.pyplot as plt</span></span>
<span id="cb25-4"><a href="python-environments.html#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="in">import numpy as np</span></span>
<span id="cb25-5"><a href="python-environments.html#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="in">import matplotlib.pyplot as plt</span></span>
<span id="cb25-6"><a href="python-environments.html#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="in">from brokenaxes import brokenaxes</span></span>
<span id="cb25-7"><a href="python-environments.html#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="in">import numpy as np</span></span>
<span id="cb25-8"><a href="python-environments.html#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="python-environments.html#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="in">fig = plt.figure(figsize=(5,5))</span></span>
<span id="cb25-10"><a href="python-environments.html#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="in">bax = brokenaxes(xlims=((1, 500), (600, 10000)),</span></span>
<span id="cb25-11"><a href="python-environments.html#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="in">     ylims=((1, 500), (600, 10000)),</span></span>
<span id="cb25-12"><a href="python-environments.html#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="in">         hspace=.15, xscale='log', yscale='log')</span></span>
<span id="cb25-13"><a href="python-environments.html#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="python-environments.html#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="in">x = np.logspace(0.0, 4, 100)</span></span>
<span id="cb25-15"><a href="python-environments.html#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="in">bax.loglog(x, x, label='\$y=x=10\^{0}\$ to \$10\^{4}\$')</span></span>
<span id="cb25-16"><a href="python-environments.html#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="python-environments.html#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="in">bax.legend(loc='best')</span></span>
<span id="cb25-18"><a href="python-environments.html#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="in">bax.grid(axis='both', which='major', ls='-')</span></span>
<span id="cb25-19"><a href="python-environments.html#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="in">bax.grid(axis='both', which='minor', ls='--', alpha=0.4)</span></span>
<span id="cb25-20"><a href="python-environments.html#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="in">bax.set_xlabel('x')</span></span>
<span id="cb25-21"><a href="python-environments.html#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="in">bax.set_ylabel('y')</span></span>
<span id="cb25-22"><a href="python-environments.html#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="in">plt.show()</span></span>
<span id="cb25-23"><a href="python-environments.html#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Remember. You open a Python block in Rmarkdown with</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb26-1"><a href="python-environments.html#cb26-1" aria-hidden="true" tabindex="-1"></a> <span class="in">```{python}</span></span></code></pre></div>
<p>and close it with:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb27-1"><a href="python-environments.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="introduction.html"><span class="header-section-number">1</span> Introduction</a></div>
<div class="next"><a href="sharing-data-objects.html"><span class="header-section-number">3</span> Sharing data objects</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#python-environments"><span class="header-section-number">2</span> Python environments</a></li>
<li><a class="nav-link" href="#why-virtual-environments"><span class="header-section-number">2.1</span> Why virtual environments?</a></li>
<li><a class="nav-link" href="#python-virtual-environment-and-r"><span class="header-section-number">2.2</span> Python virtual environment and R</a></li>
<li>
<a class="nav-link" href="#conda-environments"><span class="header-section-number">2.3</span> conda environments</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#environment-with-python-version-specified"><span class="header-section-number">2.3.1</span> environment with Python version specified</a></li>
<li><a class="nav-link" href="#specify-python-version-and-list-package-names"><span class="header-section-number">2.3.2</span> specify Python version and list package names</a></li>
<li><a class="nav-link" href="#specify-python-version-and-version-for-the-packages"><span class="header-section-number">2.3.3</span> specify Python version and version for the packages</a></li>
</ul>
</li>
<li><a class="nav-link" href="#running-python-from-r"><span class="header-section-number">2.4</span> Running Python from R</a></li>
<li><a class="nav-link" href="#a-plot-demo"><span class="header-section-number">2.5</span> A plot demo</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com//f0nzie/matplotlib-with-rmarkdown/blob/master/02-python-env.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com//f0nzie/matplotlib-with-rmarkdown/edit/master/02-python-env.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Matplotlib with Rmarkdown</strong>" was written by Alfonso R. Reyes. It was last built on 2020-11-19.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
